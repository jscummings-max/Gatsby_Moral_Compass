<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Great Gatsby: A Moral Compass</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #FFD700;
            --emerald: #10B981;
            --rose: #F43F5E;
            --violet: #8B5CF6;
            --amber: #F59E0B;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: #e2e8f0;
            min-height: 100vh;
        }

        .title-font {
            font-family: 'Playfair Display', serif;
        }

        .ranking-container {
            min-height: 400px;
            border-radius: 1rem;
            background: linear-gradient(145deg, #374151, #4b5563);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .drag-over {
            border: 3px dashed var(--emerald);
            background: linear-gradient(145deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));
            transform: scale(1.02);
            transition: all 0.3s ease;
        }
        
        .dragging {
            opacity: 0.6;
            transform: rotate(3deg) scale(0.95);
            transition: all 0.2s ease;
        }
        
        .character-card, .character-card-ranked {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(145deg, #6366f1, #8b5cf6);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .character-card:hover, .character-card-ranked:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
            border-color: var(--gold);
        }

        .moral-rank-1 { background: linear-gradient(145deg, var(--emerald), #059669); }
        .moral-rank-2 { background: linear-gradient(145deg, #22c55e, var(--emerald)); }
        .moral-rank-3 { background: linear-gradient(145deg, #84cc16, #22c55e); }
        .moral-rank-4 { background: linear-gradient(145deg, var(--amber), #eab308); }
        .moral-rank-5 { background: linear-gradient(145deg, #f97316, var(--amber)); }
        .moral-rank-6 { background: linear-gradient(145deg, var(--rose), #dc2626); }
        .moral-rank-7 { background: linear-gradient(145deg, #dc2626, #991b1b); }

        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .sparkle {
            position: relative;
            overflow: hidden;
        }

        .sparkle::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.4), transparent);
            z-index: -1;
            animation: sparkle 3s linear infinite;
        }

        @keyframes sparkle {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .instruction-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(16, 185, 129, 0.1));
            border: 1px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
            50% { box-shadow: 0 0 30px rgba(139, 92, 246, 0.6), 0 0 40px rgba(139, 92, 246, 0.4); }
        }
    </style>
</head>
<body class="p-4 sm:p-6">

<div class="max-w-7xl mx-auto">
    <!-- Header Section -->
    <div class="text-center mb-8">
        <h1 class="title-font text-4xl sm:text-5xl lg:text-6xl font-black mb-4 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-500 bg-clip-text text-transparent floating-animation">
            The Great Gatsby: A Moral Compass
        </h1>
        <p class="text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
            Navigate the moral landscape of F. Scott Fitzgerald's masterpiece by ranking characters and exploring their ethical dilemmas
        </p>
    </div>

    <!-- Instructions Section -->
    <div class="instruction-card rounded-2xl p-6 mb-8">
        <h2 class="title-font text-2xl font-bold mb-4 text-yellow-400">üìã Assignment Instructions</h2>
        <div class="grid md:grid-cols-2 gap-6 text-sm leading-relaxed">
            <div>
                <h3 class="font-semibold text-emerald-400 mb-2">Part 1: Character Ranking and Justification</h3>
                <p class="text-gray-300 mb-3">Rank the main characters from most moral to least moral based on their actions, motivations, and moral dilemmas throughout the novel.</p>
                <div class="bg-gray-800/50 p-3 rounded-lg">
                    <p class="text-xs text-gray-400 mb-2"><strong>Consider Texas Standards:</strong></p>
                    <ul class="text-xs text-gray-300 space-y-1">
                        <li>‚Ä¢ <strong>(B)</strong> Analyze how characters' behaviors and motivations contribute to moral dilemmas</li>
                        <li>‚Ä¢ <strong>(D)</strong> Analyze how the Jazz Age context influences moral choices</li>
                    </ul>
                </div>
            </div>
            <div>
                <h3 class="font-semibold text-rose-400 mb-2">Part 2: The Moral Dilemma Spotlight</h3>
                <p class="text-gray-300 mb-3">Select one character and highlight a specific moral dilemma they face. Analyze their choice and explain how it influences the plot and theme.</p>
                <div class="bg-gray-800/50 p-3 rounded-lg">
                    <p class="text-xs text-gray-400 mb-2"><strong>Tips for Success:</strong></p>
                    <ul class="text-xs text-gray-300 space-y-1">
                        <li>‚Ä¢ Use clear visual hierarchy</li>
                        <li>‚Ä¢ Incorporate symbols representing moral standing</li>
                        <li>‚Ä¢ Use concise, powerful language</li>
                        <li>‚Ä¢ Create an organized, easy-to-understand final product</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
        <!-- Unranked Characters Section -->
        <div class="xl:col-span-1">
            <div class="glass-effect rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="title-font text-2xl font-bold text-emerald-400">üé≠ Characters to Rank</h2>
                </div>
                <div id="character-list" class="flex flex-col gap-4 p-4 ranking-container">
                    <div id="char-1" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Nick Carraway">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üìñ</span>
                            <span class="font-semibold text-lg">Nick Carraway</span>
                        </div>
                    </div>
                    <div id="char-2" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Jay Gatsby">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">‚ú®</span>
                            <span class="font-semibold text-lg">Jay Gatsby</span>
                        </div>
                    </div>
                    <div id="char-3" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Daisy Buchanan">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üåº</span>
                            <span class="font-semibold text-lg">Daisy Buchanan</span>
                        </div>
                    </div>
                    <div id="char-4" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Tom Buchanan">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üí™</span>
                            <span class="font-semibold text-lg">Tom Buchanan</span>
                        </div>
                    </div>
                    <div id="char-5" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Jordan Baker">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üèåÔ∏è‚Äç‚ôÄÔ∏è</span>
                            <span class="font-semibold text-lg">Jordan Baker</span>
                        </div>
                    </div>
                    <div id="char-6" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="Myrtle Wilson">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üíÑ</span>
                            <span class="font-semibold text-lg">Myrtle Wilson</span>
                        </div>
                    </div>
                    <div id="char-7" class="character-card p-4 rounded-xl shadow-lg cursor-grab active:cursor-grabbing sparkle" draggable="true" data-name="George Wilson">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">üîß</span>
                            <span class="font-semibold text-lg">George Wilson</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ranking Section -->
        <div class="xl:col-span-1">
            <div class="glass-effect rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="title-font text-2xl font-bold text-yellow-400">‚öñÔ∏è Your Moral Ranking</h2>
                    <button id="reset-btn" class="bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 transition-all text-white font-bold py-2 px-4 rounded-full text-sm shadow-lg transform hover:scale-105">
                        üîÑ Reset
                    </button>
                </div>
                <div id="ranking-list" class="flex flex-col gap-4 p-4 ranking-container pulse-glow">
                    <div id="placeholder-text" class="text-center text-gray-400 mt-20">
                        <div class="text-6xl mb-4">üéØ</div>
                        <p class="text-lg font-medium">Drag characters here to begin your moral ranking</p>
                        <p class="text-sm mt-2">Most moral ‚Üí Least moral</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Moral Dilemma Spotlight Section -->
        <div class="xl:col-span-1">
            <div class="glass-effect rounded-2xl p-6 h-fit">
                <h2 class="title-font text-2xl font-bold text-rose-400 mb-4">üîç Moral Dilemma Spotlight</h2>
                <div id="spotlight-section" class="bg-gray-800/50 rounded-xl p-4">
                    <select id="spotlight-character" class="w-full bg-gray-700 text-white rounded-lg p-3 mb-4 border border-gray-600 focus:border-rose-400 focus:outline-none">
                        <option value="">Select a character to spotlight...</option>
                    </select>
                    <textarea id="spotlight-dilemma" class="w-full h-32 bg-gray-700 text-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:ring-2 focus:ring-rose-400 border border-gray-600 mb-4" placeholder="Describe the specific moral dilemma this character faces..."></textarea>
                    <textarea id="spotlight-analysis" class="w-full h-32 bg-gray-700 text-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:ring-2 focus:ring-rose-400 border border-gray-600" placeholder="Analyze their choice and explain how it influences the plot and theme..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-8 flex flex-wrap justify-center gap-4">
        <button id="show-justifications-btn" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all text-white font-bold py-3 px-8 rounded-full text-lg shadow-xl transform hover:scale-105">
            üìä View Complete Analysis
        </button>
    </div>

    <!-- Results Output -->
    <div id="justifications-output" class="mt-8 glass-effect rounded-2xl p-6 hidden">
        <h2 class="title-font text-3xl font-bold mb-6 text-center bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">Your Moral Compass Analysis</h2>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const characterList = document.getElementById('character-list');
    const rankingList = document.getElementById('ranking-list');
    const resetBtn = document.getElementById('reset-btn');
    const placeholderText = document.getElementById('placeholder-text');
    const showJustificationsBtn = document.getElementById('show-justifications-btn');
    const justificationsOutput = document.getElementById('justifications-output');
    const spotlightCharacter = document.getElementById('spotlight-character');
    const spotlightDilemma = document.getElementById('spotlight-dilemma');
    const spotlightAnalysis = document.getElementById('spotlight-analysis');

    let draggedItem = null;

    const characterEmojis = {
        'Nick Carraway': 'üìñ',
        'Jay Gatsby': '‚ú®',
        'Daisy Buchanan': 'üåº',
        'Tom Buchanan': 'üí™',
        'Jordan Baker': 'üèåÔ∏è‚Äç‚ôÄÔ∏è',
        'Myrtle Wilson': 'üíÑ',
        'George Wilson': 'üîß'
    };

    const updateSpotlightOptions = () => {
        const rankedCards = rankingList.querySelectorAll('.character-card-ranked');
        spotlightCharacter.innerHTML = '<option value="">Select a character to spotlight...</option>';
        
        rankedCards.forEach(card => {
            const option = document.createElement('option');
            option.value = card.dataset.name;
            option.textContent = card.dataset.name;
            spotlightCharacter.appendChild(option);
        });
    };

    const updateRankingNumbers = () => {
        const rankingItems = rankingList.querySelectorAll('.character-card-ranked');
        rankingItems.forEach((item, index) => {
            let rankSpan = item.querySelector('.rank-number');
            if (!rankSpan) {
                rankSpan = document.createElement('span');
                rankSpan.className = 'rank-number text-white font-bold text-2xl mr-4 bg-gray-900/50 rounded-full w-10 h-10 flex items-center justify-center';
                item.querySelector('.rank-container').prepend(rankSpan);
            }
            rankSpan.textContent = `${index + 1}`;
            
            // Update moral ranking color
            item.className = item.className.replace(/moral-rank-\d+/, '') + ` moral-rank-${index + 1}`;
        });
        updateSpotlightOptions();
    };

    document.addEventListener('dragstart', (e) => {
        const target = e.target.closest('.character-card, .character-card-ranked');
        if (target) {
            draggedItem = target;
            setTimeout(() => {
                target.classList.add('dragging');
            }, 0);
        }
    });

    document.addEventListener('dragend', (e) => {
        if (draggedItem) {
            draggedItem.classList.remove('dragging');
            draggedItem = null;
        }
        document.querySelectorAll('.drag-over').forEach(el => {
            el.classList.remove('drag-over');
        });
    });

    document.addEventListener('dragover', (e) => {
        e.preventDefault();
        const rankingContainer = e.target.closest('#ranking-list');
        if (rankingContainer) {
            rankingContainer.classList.add('drag-over');
        }
    });

    document.addEventListener('dragleave', (e) => {
        if (!e.relatedTarget || !e.currentTarget.contains(e.relatedTarget)) {
            const rankingContainer = e.target.closest('#ranking-list');
            if (rankingContainer) {
                rankingContainer.classList.remove('drag-over');
            }
        }
    });

    document.addEventListener('drop', (e) => {
        e.preventDefault();
        
        document.querySelectorAll('.drag-over').forEach(el => {
            el.classList.remove('drag-over');
        });

        const rankingContainer = e.target.closest('#ranking-list');
        if (rankingContainer && draggedItem) {
            
            if (draggedItem.parentElement.id === 'character-list') {
                const newCard = document.createElement('div');
                newCard.className = 'character-card-ranked p-4 rounded-xl shadow-xl cursor-grab active:cursor-grabbing border-2 border-white/20';
                newCard.draggable = true;
                newCard.dataset.name = draggedItem.dataset.name;

                const emoji = characterEmojis[draggedItem.dataset.name] || 'üë§';
                const content = `
                    <div class="rank-container flex items-center mb-4">
                        <span class="text-2xl mr-3">${emoji}</span>
                        <span class="font-semibold text-lg">${draggedItem.dataset.name}</span>
                    </div>
                    <div class="bg-gray-800/50 rounded-lg p-3">
                        <label class="block text-xs font-medium text-gray-300 mb-2">Moral Justification:</label>
                        <textarea class="justification-text w-full h-24 bg-gray-700 text-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-yellow-400 border border-gray-600" placeholder="Explain why you ranked this character here based on their moral actions and motivations..."></textarea>
                    </div>
                `;
                newCard.innerHTML = content;

                const dropTarget = e.target.closest('.character-card-ranked');
                if (dropTarget && dropTarget !== draggedItem) {
                    const rect = dropTarget.getBoundingClientRect();
                    const midpoint = rect.top + rect.height / 2;
                    if (e.clientY < midpoint) {
                        rankingList.insertBefore(newCard, dropTarget);
                    } else {
                        rankingList.insertBefore(newCard, dropTarget.nextSibling);
                    }
                } else {
                    rankingList.appendChild(newCard);
                }

                draggedItem.style.display = 'none';

            } else if (draggedItem.classList.contains('character-card-ranked')) {
                const dropTarget = e.target.closest('.character-card-ranked');
                if (dropTarget && dropTarget !== draggedItem) {
                    const rect = dropTarget.getBoundingClientRect();
                    const midpoint = rect.top + rect.height / 2;
                    if (e.clientY < midpoint) {
                        rankingList.insertBefore(draggedItem, dropTarget);
                    } else {
                        rankingList.insertBefore(draggedItem, dropTarget.nextSibling);
                    }
                }
            }

            if (rankingList.querySelectorAll('.character-card-ranked').length > 0 && placeholderText.parentNode) {
                placeholderText.style.display = 'none';
            }

            updateRankingNumbers();
        }
    });

    resetBtn.addEventListener('click', () => {
        const rankedCards = rankingList.querySelectorAll('.character-card-ranked');
        rankedCards.forEach(card => {
            const originalCard = characterList.querySelector(`[data-name="${card.dataset.name}"]`);
            if (originalCard) {
                originalCard.style.display = '';
            }
            card.remove();
        });

        if (placeholderText) {
            placeholderText.style.display = 'block';
        }
        
        justificationsOutput.classList.add('hidden');
        spotlightCharacter.innerHTML = '<option value="">Select a character to spotlight...</option>';
        spotlightDilemma.value = '';
        spotlightAnalysis.value = '';
    });

    showJustificationsBtn.addEventListener('click', () => {
        justificationsOutput.innerHTML = `
            <h2 class="title-font text-3xl font-bold mb-6 text-center bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">üìä Your Moral Compass Analysis</h2>
        `;

        const rankedCards = rankingList.querySelectorAll('.character-card-ranked');
        
        if (rankedCards.length === 0) {
            justificationsOutput.innerHTML += '<div class="text-center text-gray-400"><div class="text-4xl mb-4">ü§î</div><p class="text-lg">Please rank characters first to see your analysis.</p></div>';
            justificationsOutput.classList.remove('hidden');
            return;
        }

        // Character Rankings Section
        const rankingsSection = document.createElement('div');
        rankingsSection.className = 'mb-8';
        rankingsSection.innerHTML = '<h3 class="title-font text-2xl font-bold mb-4 text-emerald-400">üèÜ Character Rankings</h3>';

        rankedCards.forEach((card, index) => {
            const characterName = card.dataset.name;
            const justificationTextarea = card.querySelector('.justification-text');
            const justification = justificationTextarea ? justificationTextarea.value : '';
            const emoji = characterEmojis[characterName] || 'üë§';

            const rankElement = document.createElement('div');
            rankElement.className = `bg-gradient-to-r moral-rank-${index + 1} p-4 rounded-xl shadow-lg mb-4 border border-white/20`;
            rankElement.innerHTML = `
                <div class="flex items-start gap-4">
                    <div class="bg-gray-900/50 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold">${index + 1}</div>
                    <div class="flex-1">
                        <h4 class="font-bold text-lg mb-2 flex items-center">
                            <span class="text-2xl mr-2">${emoji}</span>
                            ${characterName}
                        </h4>
                        <div class="bg-black/20 rounded-lg p-3">
                            <p class="text-sm"><strong>Justification:</strong> ${justification.trim() || 'No justification provided.'}</p>
                        </div>
                    </div>
                </div>
            `;
            rankingsSection.appendChild(rankElement);
        });

        justificationsOutput.appendChild(rankingsSection);

        // Spotlight Section
        if (spotlightCharacter.value) {
            const spotlightSection = document.createElement('div');
            spotlightSection.className = 'bg-gradient-to-br from-rose-900/30 to-pink-900/30 rounded-xl p-6 border border-rose-400/30';
            spotlightSection.innerHTML = `
                <h3 class="title-font text-2xl font-bold mb-4 text-rose-400">üîç Moral Dilemma Spotlight</h3>
                <div class="bg-black/20 rounded-lg p-4 mb-4">
                    <h4 class="font-bold text-lg mb-2 flex items-center">
                        <span class="text-2xl mr-2">${characterEmojis[spotlightCharacter.value]}</span>
                        ${spotlightCharacter.value}
                    </h4>
                    <div class="space-y-3">
                        <div>
                            <p class="text-sm font-medium text-gray-300 mb-1">Moral Dilemma:</p>
                            <p class="text-sm">${spotlightDilemma.value.trim() || 'No dilemma described.'}</p>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-300 mb-1">Analysis:</p>
                            <p class="text-sm">${spotlightAnalysis.value.trim() || 'No analysis provided.'}</p>
                        </div>
                    </div>
                </div>
            `;
            justificationsOutput.appendChild(spotlightSection);
        }

        justificationsOutput.classList.remove('hidden');
        justificationsOutput.scrollIntoView({ behavior: 'smooth' });
    });
});
</script>

</body>
</html>